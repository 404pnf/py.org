<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>改用simple wikipedia org的数据库练手了</title>
    <link href="/css/local.css" rel="stylesheet">
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3301463-1']);
    _gaq.push(['_trackPageview']);
   (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    </head>
    <body>
      <h1>改用simple wikipedia org的数据库练手了</h1>

<h2>改用simple.wikipedia.org的数据库练手了</h2>

<p>开始用zhuikiboook的xml数据库。总不对。我以为我脚本有问题。其实是它格式有问题。用英文的这个Simplewiki的xml数据，我的脚本正常工作。</p>

<p>记录一些经验。</p>

<h2>解开数据用bzip2</h2>

<h2>我只想保留文章题目和文章内容，文章id。其他信息不要。</h2>

<h2>删除这种不同语种间wiki页面的方法是</h2>

<p>[[ar:أبريل]] 
[[frp:Avril]]</p>

<pre><code>   sed  -e '/^\[.*\]$/d' 
</code></pre>

<p>因为根据我观察，链接到本条目不同语种页面的行格式如下 1 单独占一行 2 {[ 开头 3 ]] 结尾且后面直接跟换行符号，就是直接是行末尾了</p>

<p>所以上面的sed命令据我初步观察能够完全删除这些。是否有多删除的，还需要日后判断。但我初步估计不太可能。因为^[和]$已经P排出了其他用到{[一些字]]的情况。那些情况我没见到是单独占一行的。</p>

    </body>
    <footer>
    <a href="../">Up    </a>
    <a href="/">Home</a>
    <!-- generated on 2013-01-23 09:56:09 +0800 -->
    </footer>
</html>

