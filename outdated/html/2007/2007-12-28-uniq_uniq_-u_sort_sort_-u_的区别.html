<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>uniq uniq -u sort sort -u 的区别</title>
    <link href="/css/local.css" rel="stylesheet">
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3301463-1']);
    _gaq.push(['_trackPageview']);
   (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    </head>
    <body>
      <h1>uniq uniq -u sort sort -u 的区别</h1>

<h2>uniq, uniq -u, sort, sort -u 的区别</h2>

<p>sort -u 不也是么？</p>

<p>uniq本来就是去除不一样的行呀。是这样么？</p>

<p>真的是这样么？！</p>

<p>：）</p>

<p>我们看一下man。</p>

<blockquote>
  <p>DESCRIPTION
 Discard all but one of successive identical lines from INPUT (or standard input), writing to OUTPUT (or standard output).</p>

  <p>Mandatory arguments to long options are mandatory for short options too.</p>

  <p>-c, –count
  prefix lines by the number of occurrences</p>

  <p>-d, –repeated
  only print duplicate lines</p>

  <p>-D, –all-repeated[=delimit-method] print all duplicate lines
  delimit-method={none(default),prepend,separate} Delimiting is done with blank lines.</p>

  <p>-f, –skip-fields=N
  avoid comparing the first N fields</p>

  <p>-i, –ignore-case
  ignore differences in case when comparing</p>

  <p>-s, –skip-chars=N
  avoid comparing the first N characters</p>

  <p>-u, –unique
  only print unique lines</p>
</blockquote>

<p>看来是有区别的。没有加-d的时候是去除连续的重复行，只保留一行。</p>

<p>有-u，手册说只打印不一样的行。隐含的意思是即使他们不连续但他们一样，那么也只打印一次。</p>

<p>我们用例子来试验一下。</p>

<p>$ cat uniq-test.txt</p>

<p>a
a
b
b
a
b
a</p>

<p>404@404:~$ uniq uniq-test.txt</p>

<p>a
b
a
b
a</p>

<p>404@404:~$ uniq -u uniq-test.txt</p>

<p>a
b
a</p>

<p>404@404:~$ </p>

<p>确实有区别：）</p>

<h2>我们再来看看sort和sort -u和上面uniq的区别</h2>

<p>404@404:~$ cat uniq-test.txt</p>

<p>a
a
b
b
a
b
a</p>

<p>404@404:~$ sort uniq-test.txt</p>

<p>a
a
a
a
b
b
b
404@404:~$ sort -u uniq-test.txt</p>

<p>a
b</p>

<p>区别大了。 ；）</p>

<h2>学无止境啊</h2>

<p>细节的东西不推敲感觉真乱。推敲一下还有点意思。</p>

    </body>
    <footer>
    <a href="../">Up    </a>
    <a href="/">Home</a>
    <!-- generated on 2013-01-23 09:56:10 +0800 -->
    </footer>
</html>

