<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>drupal收获</title>
    <link href="/css/local.css" rel="stylesheet">
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3301463-1']);
    _gaq.push(['_trackPageview']);
   (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    </head>
    <body>
      <h1>drupal收获</h1>

<p>调整一个drupal站点 从 /aaa /bbb 目录下
发现很多img_asssit贴上来的图不能正常显示了 因为链接还是连到 /aaa/photo.png 
解决方法</p>

<p>编辑 settings.php
在base_url 明确一下你是从 /bbb运行
回到站点 恩 可以了
再编辑 settings.php 
注释掉 base_url 就可以了</p>

<p>我不喜欢在drupal能自己识别base url的情况下还写base url
感觉那样不方便以后的转移</p>

<p>我开始尝试的方法但不成功记有</p>

<p>1 禁止clean url 再打开 clean url 因为前一段时间lyceum调整目录总部成功就是 .htacess 没有重新生成的结果 没有改其中的 base dir什么的</p>

<p>2 用phpmyadmin管理数据库 empty accesslog sessions cache 3个表 其实应该主要是cache </p>

<p>上面两个都没用。</p>

    </body>
    <footer>
    <a href="../">Up    </a>
    <a href="/">Home</a>
    <!-- generated on 2013-01-23 09:55:33 +0800 -->
    </footer>
</html>

