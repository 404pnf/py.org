<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>新版的emacs markdwon-mode默认就支持org-mode那种大纲模式和相应键绑定了</title>
    <link href="/css/local.css" rel="stylesheet">
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3301463-1']);
    _gaq.push(['_trackPageview']);
   (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    </head>
    <body>
      <h1>新版的emacs markdwon-mode默认就支持org-mode那种大纲模式和相应键绑定了</h1>

<p>新版的emacs markdwon-mode默认就支持org-mode那种大纲模式和相应键绑定了</p>

<p>我在这次升级中起了推波助澜的作用。：）</p>

<p>下面是作者给我回信</p>

<blockquote>
  <p>Hi 404,</p>

  <blockquote>
    <p>Goal:
1 to have markdown work with outline-minor-mode
2 to have org-cycle work in that combination</p>
  </blockquote>

  <p>This is a really good idea, thank you for suggesting it.</p>

  <p>I managed to get it working with one small change to your code.  I
didn’t have any trouble with font lock or anything.  However, I’m using
the latest development version of markdown-mode which I haven’t released
yet.  I don’t <em>think</em> there should be any differences, but you never
know.</p>

  <blockquote>
    <p>(autoload ‘markdown-mode “markdown-mode.el”
   “Major mode for editing Markdown files” t)
;; 打开文件后缀为.mdwn的文件，自动进入markdown-mode
;; ikiwiki中要求文件后缀是.mdwn
(setq auto-mode-alist
   (cons ‘(“\.mdwn” . markdown-mode) auto-mode-alist)</p>
  </blockquote>

  <p>This part above is all standard.</p>

  <blockquote>
    <p>;; 根据上面的方法，把markdown-mode中标题的正则表达式设置为每行顶头的#号。
;; 而且也打开文件的时候默认折叠所有标题
  (add-hook ‘markdown-mode-hook
            ‘(lambda ()
               (setq outline-regexp “\#+ “)
               (outline-minor-mode)
;; when load a file, hide-body automatically
;; so i can have a overview of the file
              (hide-body)))</p>
  </blockquote>

  <p>This is the part I changed.  I used the following:</p>

  <p>(setq outline-regexp “#+ “)</p>

  <blockquote>
    <p>;; 在markdown-mode中也帮定tab到org-cycle
;; http://pluskid.lifegoo.com/wiki/Muse.html#TabOutline
;; 这样在标题按tab就是循环代展开或者叠起该部分
;; 按shift-tab，就是调到下一个reference。一般是url
 (require ‘org)
 (define-key markdown-mode-map (kbd “
“) ‘org-cycle)
 (define-key markdown-mode-map (kbd “
“) ‘org-shifttab)</p>
  </blockquote>

  <p>I used the same as above.</p>

  <p>So, with the change above it works for me (and I really like the way it
works).</p>

  <p>I actually spent some time incorporating this into markdown-mode itself
by borrowing some code from org-mode and simplifying it significantly.
That way, there is no additional external dependency.  If you’d like to
try it out, download the latest version from the website:
http://jblevins.org/projects/markdown-mode/</p>

  <p>Let me know if this works like you expected.</p>

  <p>Regards,</p>

  <p>Jason</p>
</blockquote>

<p>我非常高兴。下载了新版本放到 .emacs.d/ 中。
直接进入mark-down模式，根本不用开outline-minor-mode就可以用tab键和shift-tab来切换各种大纲显示模式了。</p>

<p>Sweet~!</p>

    </body>
    <footer>
    <a href="../">Up    </a>
    <a href="/">Home</a>
    <!-- generated on 2013-01-23 09:55:52 +0800 -->
    </footer>
</html>

