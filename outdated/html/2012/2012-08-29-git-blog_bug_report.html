<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>git-blog bug report</title>
    <link href="/css/local.css" rel="stylesheet">
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3301463-1']);
    _gaq.push(['_trackPageview']);
   (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    </head>
    <body>
      <h1>git-blog bug report</h1>

<h2>improvment on documentaton</h2>

<h2>rake create[directory]: [] is a must and no space between create and []</h2>
<p>In the doc, rake create[~/Documents/Blog]</p>

<p>This must be the ignorance of rake convention in my part, but I thought the [] there was used to show this is a parameter.  But, after trying several times I understood:</p>

<ol>
  <li>[] must be there</li>
  <li>create[~/folder], no space is allowed between create and []</li>
</ol>

<p>Here are the proof:</p>

<pre><code>   $ rake create ~/anothergitblogtry
   mkdir /home/user/source.code/git-blog/blog
   ** git-blog created at /home/user/source.code/git-blog/blog!
   ** now `cd /home/user/source.code/git-blog/blog` and `rake initialize`!
   
   $ rake create [~/anothergitblogtry]
   mkdir /home/user/source.code/git-blog/blog
   ** git-blog created at /home/user/source.code/git-blog/blog!
   ** now `cd /home/user/source.code/git-blog/blog` and `rake initialize`!
   rake aborted!
   Don't know how to build task '[~/anothergitblogtry]'
   (See full trace by running task with --trace)
   
   $ rake create[~/anothergitblogtry]
   mkdir /home/user/anothergitblogtry
   ** git-blog created at /home/user/anothergitblogtry!
   ** now `cd /home/user/anothergitblogtry` and `rake initialize`!
</code></pre>

<p>It might be newbie-friendly if this part is more verbose in the doc.</p>

<h2>Files in posts directory must end with pre-defined ext?</h2>

<p>Or the files will not be rendered.  Or they cause the program to abort.</p>

<p>Would you please update the doc to say explicitly which ext should be used.  For example:  only files end with markdown/textile/extra will be rendered.</p>

<p>proof:</p>

<pre><code>   $ ls posts/
   welcome.markdown
   $ rake deploy --trace
   ** Invoke deploy (first_time)
   ** Invoke clobber (first_time)
   ** Execute clobber
   ** Invoke index (first_time)
   ** Execute index
   index.xhtml compiled
   ** Execute deploy
   /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require': iconv will be deprecated in the future, use String#encode instead.
   /home/user/tmp/gitblogtest/lib/git-blog/parser/markdown.rb:4: warning: already initialized constant Markdown
   posts/welcome.markdown -&gt; posts/welcome.xhtml (as markdown)
</code></pre>

<p>Defaut welcome.markdown page works.</p>

<pre><code>   $ vim posts/1st
   $ ls posts/
   1st  welcome.markdown
   $ rake deploy --trace
   ** Invoke deploy (first_time)
   ** Invoke clobber (first_time)
   ** Execute clobber
   ** Invoke index (first_time)
   ** Execute index
   index.xhtml compiled
   ** Execute deploy
   /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require': iconv will be deprecated in the future, use String#encode instead.
   /home/user/tmp/gitblogtest/lib/git-blog/parser/markdown.rb:4: warning: already initialized constant Markdown
   posts/welcome.markdown -&gt; posts/welcome.xhtml (as markdown)
</code></pre>

<p>A new file without ext name is ignored.</p>

<pre><code>   $ vim posts/2nd.txt
   $ git add .
   $ git commit -am 'filename ext testing'
   [master 5a360f4] filename ext testing
    1 file changed, 3 insertions(+)
     create mode 100644 posts/2nd.txt
     $ rake deploy --trace
     ** Invoke deploy (first_time)
     ** Invoke clobber (first_time)
     ** Execute clobber
     rm -f posts/welcome.xhtml
     ** Invoke index (first_time)
     ** Execute index
     index.xhtml compiled
     ** Execute deploy
     /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require': iconv will be deprecated in the future, use String#encode instead.
     /home/user/tmp/gitblogtest/lib/git-blog/parser/markdown.rb:4: warning: already initialized constant Markdown
     posts/welcome.markdown -&gt; posts/welcome.xhtml (as markdown)
     rake aborted!
     wrong argument type nil (expected Regexp)
     /home/user/tmp/gitblogtest/lib/git-blog.rb:176:in `match'
     /home/user/tmp/gitblogtest/lib/git-blog.rb:176:in `block (2 levels) in &lt;top (required)&gt;'
     /home/user/tmp/gitblogtest/lib/git-blog.rb:171:in `each'
     /home/user/tmp/gitblogtest/lib/git-blog.rb:171:in `block in &lt;top (required)&gt;'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `call'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `block in execute'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `each'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `execute'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
     /usr/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:144:in `invoke'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:116:in `invoke_task'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `block (2 levels) in top_level'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `each'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `block in top_level'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:88:in `top_level'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:66:in `block in run'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:63:in `run'
     /var/lib/gems/1.9.1/gems/rake-0.9.2.2/bin/rake:33:in `&lt;top (required)&gt;'
     /usr/local/bin/rake:19:in `load'
     /usr/local/bin/rake:19:in `&lt;main&gt;'
     Tasks: TOP =&gt; deploy
</code></pre>

<p>A file with .txt extenstion is ignored and causes error.</p>

<h2>posts under posts/directory will not be rendered</h2>

<p>Only files directly under posts/ will be rendered.  Shall we add a note to the README?</p>

<pre><code>   user@user-desktop:~/tmp/gitblogtest/blog$ ls posts/
   subfolder  welcome.markdown
   user@user-desktop:~/tmp/gitblogtest/blog$ rake deploy --trace
   ** Invoke deploy (first_time)
   ** Invoke clobber (first_time)
   ** Execute clobber
   ** Invoke index (first_time)
   ** Execute index
   index.xhtml compiled
   ** Execute deploy
   /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require': iconv will be deprecated in the future, use String#encode instead.
   /home/user/tmp/gitblogtest/lib/git-blog/parser/markdown.rb:4: warning: already initialized constant Markdown
   posts/welcome.markdown -&gt; posts/welcome.xhtml (as markdown)
   user@user-desktop:~/tmp/gitblogtest/blog$ rm posts/welcome.xhtml 
   bai@user-desktop:~/tmp/gitblogtest/blog$ cp posts/welcome.markdown posts/subfolder/
   user@user-desktop:~/tmp/gitblogtest/blog$ rake deploy --trace
   ** Invoke deploy (first_time)
   ** Invoke clobber (first_time)
   ** Execute clobber
   ** Invoke index (first_time)
   ** Execute index
   index.xhtml compiled
   ** Execute deploy
   /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require': iconv will be deprecated in the future, use String#encode instead.
   /home/user/tmp/gitblogtest/lib/git-blog/parser/markdown.rb:4: warning: already initialized constant Markdown
   posts/welcome.markdown -&gt; posts/welcome.xhtml (as markdown)
   user@user-desktop:~/tmp/gitblogtest/blog$ ls posts/ -r
   welcome.xhtml  welcome.markdown  subfolder
   user@user-desktop:~/tmp/gitblogtest/blog$ ls posts/ -R
   posts/:
   subfolder  welcome.markdown  welcome.xhtml
   
   posts/subfolder:
   welcome.markdown
</code></pre>

<p>Group files in folder is a common way for writing.  I want to use git-blog for documentation of several projects.  Each project has its own folder.  I want to write a diary, with two subfolders, work and life.</p>

<p>If this is considered bloated features, could you point to where should one do it in her fork?  I am not a programmer but I may ask a friend to do that.</p>

<h2>more questons</h2>

<h2>How to use another markdown parser</h2>

<p>I want to use kramdown instead of markuru.  How to do that?</p>

<p>I look around the code and see something relevant:</p>

<pre><code>  # Maruku                                                                       
  begin
  #  require 'maruku'                                                             require 'kramdown'
  #  Markdown = Maruku                                                            Markdown = kramdown
</code></pre>

<p>But it didn’t work. :(</p>

<h2>How to make parse ignore yaml frontmatter when parse files, i.e, meta data is allowd in the post</h2>

<p>I want the parser to ignore some contents of a files, e.g, I store some meta data of the file in yaml format just in case I want to import all these files in to a database or move to another system.  How to do that?  Ask the parser to ignore line with ^key:value and ^—- in my example.</p>

<h2>How to do incremental rendering?</h2>

<p>Suppose i have 10000 files in posts already checked in and deployed.  now i add a new file to the git repo and run rake deploy what would happen, only the new file would be rendered (preferably), or all the files would be rendered again.</p>

<p>From my testing, all posts will be rendered again.</p>

<p>Would it be more appropriate if we nly rendered the changed files since we have git to tell us what change?  Would this be considered a bloated feature?</p>

<h2>error msg: incompatible character encodings: UTF-8 and ASCII-8BIT</h2>

<p>posts/2009-10-22-46652.markdown -&gt; posts/2009-10-22-46652.xhtml (as markdown)
rake aborted!
incompatible character encodings: UTF-8 and ASCII-8BIT
/var/lib/gems/1.9.1/gems/maruku-0.6.0/lib/maruku/helpers.rb:97:in `rescue in md_html’</p>


    </body>
    <footer>
    <a href="../">Up    </a>
    <a href="/">Home</a>
    <!-- generated on 2013-01-23 09:55:56 +0800 -->
    </footer>
</html>

