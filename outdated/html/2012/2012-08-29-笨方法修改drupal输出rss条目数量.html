<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>笨方法修改drupal输出rss条目数量</title>
    <link href="/css/local.css" rel="stylesheet">
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3301463-1']);
    _gaq.push(['_trackPageview']);
   (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    </head>
    <body>
      <h1>笨方法修改drupal输出rss条目数量</h1>

<p>这是drupal 6</p>

<p>sudo vim +1461 modules/system/system.admin.inc </p>

<p>function system_rss_feeds_settings() {</p>

<p>$form[‘feed_default_items’] = array(
    ‘#type’ =&gt; ‘select’,
    ‘#title’ =&gt; t(‘Number of items in each feed’),
    ‘#default_value’ =&gt; variable_get(‘feed_default_items’, 10),
    ‘#options’ =&gt; drupal_map_assoc(array(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 15, 20, 25, 30, 3000)),
    ‘#description’ =&gt; t(‘Default number of items to include in each feed.’)
  );</p>

<p>我是如何搜索到的呢？</p>

<p>1、我记得在system模块中有这些管理设定的代码，于是在该目录搜索
        grep -r rss * -n
2、发现了控制代码的函数，再搜索
        grep -r system_rss_feeds * -n</p>

<p>hack core是很愚蠢的做法。应该在你的模块中复写掉上面的函数。但我不会。我只是需要用一下，把2个drupal站点转到jekyll。</p>

<p>得罪了！ ：）</p>


    </body>
    <footer>
    <a href="../">Up    </a>
    <a href="/">Home</a>
    <!-- generated on 2013-01-23 09:55:56 +0800 -->
    </footer>
</html>

