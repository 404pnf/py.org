<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>nginx中使用add header添加heaer是 如果一个key对应多个value 将value用单引号括起来</title>
    <link href="/css/local.css" rel="stylesheet">
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3301463-1']);
    _gaq.push(['_trackPageview']);
   (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    </head>
    <body>
      <h1>nginx中使用add header添加heaer是 如果一个key对应多个value 将value用单引号括起来</h1>

<p>正确方法</p>

<pre><code> add_header  Content-Type: 'text/html; charset=utf-8';
</code></pre>

<p>就是用英文单引号把多个值括，起来，最后一个分号在单引号外，是nginx配置文件的命令结束符</p>

<p>nginx wiki中没有举类似例子
http://wiki.nginx.org/HttpHeadersModule</p>

<p>add_header
syntax: add_header name value</p>

<p>我想加的header是</p>

<pre><code>Content-Type: text/html; charset=utf-8
</code></pre>

<p>ngixn的配置文件，用英文分号来结束一个命令。那么上面的header参考wiki的例子就根本没法添加</p>

<p>因为 </p>

<pre><code> add_header Content-Type text/html; charset=utf-8
</code></pre>

<p>我可以去掉key:value之间的分号，但这样会报错，因为第一个分号结束了add_header命令。</p>

<p>如果我分两行写</p>

<pre><code> add_header Content-Type text/html; 
 add_header Content-Type charset=utf-8;
</code></pre>

<p>server会送出</p>

<pre><code>  Content-Type: text/html;
 Content-Type: text/html;
</code></pre>

    </body>
    <footer>
    <a href="../">Up    </a>
    <a href="/">Home</a>
    <!-- generated on 2013-01-23 09:56:02 +0800 -->
    </footer>
</html>

