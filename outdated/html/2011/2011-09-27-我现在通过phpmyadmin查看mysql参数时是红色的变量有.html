<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>我现在通过phpmyadmin查看mysql参数时是红色的变量有</title>
    <link href="/css/local.css" rel="stylesheet">
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3301463-1']);
    _gaq.push(['_trackPageview']);
   (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    </head>
    <body>
      <h1>我现在通过phpmyadmin查看mysql参数时是红色的变量有</h1>

<p>Innodb_buffer_pool_reads	43 k	 InnoDB 进行逻辑读取时无法从缓冲池中获取而执行单页读取的次数</p>

<h2>Innodb_buffer_pool_reads</h2>

<p>The number of logical reads that InnoDB could not satisfy from the buffer pool, and had to read directly from the disk.</p>

<p>参考： http://dev.mysql.com/doc/refman/5.0/en/server-status-variables.html#statvar_Innodb_buffer_pool_reads</p>

<p>解决方法我认为是增大pool。</p>

<p>set global innodb_buffer_pool_size = 8G </p>

<h2>Handler_read_rnd	12 k	 根据固定位置读取行的请求数。如果你执行很多需要排序的查询，该值会很高。你可能有很多需要完整表扫描的查询，或者你使用了不正确的索引用来多表查询。</h2>

<p>参考： http://www.mysqlperformanceblog.com/2010/06/15/what-does-handler_read_rnd-mean/</p>

<p>这个值不能改。要改改数据库索引。</p>

<h2>Handler_read_rnd_next	10 M	 从数据文件中读取行的请求数。如果你在扫描很多表，该值会很大。通常情况下这意味着你的表没有做好索引，或者你的查询语句没有使用好索引字段。</h2>

<p>这个值不能改。要改改数据库索引。</p>

<h2>Binlog_cache_disk_use	22	 因事务使用的临时二进制日志缓存超出 binlog_cache_size 的设置而使用临时文件存储的数量。</h2>

<p>参考： http://dev.mysql.com/doc/refman/5.1/en/replication-options-binary-log.html#sysvar_binlog_cache_size</p>

<h2>Created_tmp_disk_tables	270	 服务器执行语句时自动在磁盘上创建的临时表的数量。如果 Created_tmp_disk_tables 很大，你可以增加 tmp_table_size 的值，让服务器使用内存来存储临时表而非磁盘。</h2>

<p>参考： 这个和上面的2个都是因为e tmp_table_size and max_heap_table_size 不够大吧。</p>

<h2>Key_reads	2,048	 从磁盘中物理读取键块的次数。如果 Key_reads 很大，则说明您的 key_buffer_size 可能设置得太小了。缓存缺失率可以由 Key_reads/Key_read_requests 计算得出</h2>

<p>解决；  set global key_buffer_size = 200<em>1024</em>1024</p>

<h2>Sort_merge_passes	24	 排序算法使用归并的次数。如果该值很大，您应该考虑增加系统变量 sort_buffer_size 的值。</h2>

<p>解决：</p>

<p>现在的值 
mysqladmin -uroot -pj variables|grep sort_buffer
| myisam_sort_buffer_size                 |8388608                                                                                   |
| sort_buffer_size                        | 2097144 </p>

<p>set global sort_buffer_size = 200<em>1024</em>1024
set global myisam_sort_buffer_size = 200<em>1024</em>1024</p>

<h2>Opened_tables	25 k	 已经打开的表个数。如果该值很大，则说明表缓冲大小可能设置过小。</h2>

<p>参考： http://dev.mysql.com/doc/refman/5.0/en/table-cache.html</p>

<blockquote>
  <p>If the value is very large or increases rapidly, even when you have not issued many FLUSH TABLES statements, you should increase the table cache size. See Section 5.1.3, “Server System Variables”, and Section 5.1.5, “Server Status Variables”.</p>
</blockquote>

<p>参考： http://dev.mysql.com/doc/refman/5.0/en/server-system-variables.html#sysvar_table_cache</p>

<p>Command-Line Format	–table_cache=#
Option-File Format	table_cache
Option Sets Variable	Yes, table_cache
Variable Name	table_cache
Variable Scope	Global
Dynamic Variable	Yes
Deprecated	5.1.3, by table_open_cache
 	Permitted Values
Type	numeric
Default	64
Range	1-524288</p>

<p>解决：</p>

<p>这个 table_cache 的变量我的mysql中没有，但有 table_open_cache  这个参数</p>

<table>
  <tbody>
    <tr>
      <td>table_open_cache</td>
      <td>64</td>
    </tr>
  </tbody>
</table>

<p>默认值是64.看来就是它 </p>

<p>解决：</p>

<p>set global table_open_cache = 6400</p>

    </body>
    <footer>
    <a href="../">Up    </a>
    <a href="/">Home</a>
    <!-- generated on 2013-01-23 09:56:00 +0800 -->
    </footer>
</html>

