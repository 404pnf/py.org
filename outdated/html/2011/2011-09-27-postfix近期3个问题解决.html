<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>postfix近期3个问题解决</title>
    <link href="/css/local.css" rel="stylesheet">
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3301463-1']);
    _gaq.push(['_trackPageview']);
   (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    </head>
    <body>
      <h1>postfix近期3个问题解决</h1>

<h2>postfix设置邮箱大小限制默认是0，使用时需要修改</h2>

<p>$ grep mailbox_size_limit /etc/postfix/main.cf 
mailbox_size_limit = 0
http://www.howtoforge.com/forums/archive/index.php/t-3222.html</p>

<p>这个值一定要打一点。更改完后，重新启动postfix在看看/var/log/mail.err 或者 /var/log/syslog 有可能还有错误，比如</p>

<pre><code> fatal: main.cf configuration error: mailbox_size_limit is smaller than message_size_limit
</code></pre>

<p>就是说上面的值还是小了。继续增大。但这个message_size_limit我没看到在哪里设定。</p>

<h2>错误二</h2>

<p>fatal: open database /etc/aliases.db: No such file or directory</p>

<p>解决：
If /etc/aliases exists (don’t mix it up with /etc/aliases.db!), delete /etc/aliases.db, then run newaliases:
rm -f /etc/aliases.db
newaliases
This will create /etc/aliases.db from /etc/aliases. Then restart Postfix.
参考： 
http://www.howtoforge.com/forums/archive/index.php/t-652.html</p>

<h2>错误三</h2>
<p>(cannot update mailbox /var/mail/root for user root. unable to create lock file /var/mail/root.lock: File exists</p>

<p>fuser -k /var/mail/root.lock
http://www.linuxquestions.org/questions/linux-newbie-8/mailbox-lock-not-getting-removed-684284/</p>

<p>我用fuser的方法没有成功。我直接去 /var/mail 里面删除了那个文件。实际上因为我没什么关键的信。我把 /var/mial 下的root 和 root.lock都删除了。删除前，我less了一下root，里面是root的信。也算看了。</p>

<h2>解决了这3个问题，syslog中就暂时没哟任何postfix的错误了</h2>

    </body>
    <footer>
    <a href="../">Up    </a>
    <a href="/">Home</a>
    <!-- generated on 2013-01-23 09:56:03 +0800 -->
    </footer>
</html>

