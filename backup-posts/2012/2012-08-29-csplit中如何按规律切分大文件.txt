# csplit中如何按规律切分大文件

First of all, you use a slash inside the regexp. To be safe you might want to quote it so that it won't be confused with the end delimiter: /<\/listing>/.

However, in this case it would be more convenient to split on the start tag rather than end tag, since each chunk contains up to but not including the matching line. So you might try something like this:

csplit myfile.xml '/^<listing>/' '{*}'

Used the beginning-of-line anchor ^ there to make sure it only splits before lines where the start tag appears at the beginning of the l

http://stackoverflow.com/questions/2830748/how-to-use-linux-csplit-to-chop-up-massive-xml-file

man csplit 发现 {*} 的意思了
{n}

    Repeat argument n times. May follow any of the preceding arguments. Files will split at instances of expr or in blocks of num lines. If * is given instead of n, repeat argument until input is exhausted.

